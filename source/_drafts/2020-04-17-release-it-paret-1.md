---
title: 复杂度浅谈
date: 2020-04-17 21:23:39
tags: 系统设计
---

最近的读书会，在组织团队里的同学读《发布！设计与部署稳定的分布式系统 》这本书。里面又一次谈到紧耦合对系统带来的危害。

在我看来，软件设计的艺术即控制复杂度的艺术。除去人为失误导致的不良设计以外，复杂度很难被削减，只能调整其所在的位置。比如，多人维护单体服务会遇到服务部署困难、逻辑影响面难以控制的问题，进而引入微服务。微服务使得每个服务的业务变得简单，给不同的业务引入了物理边界，降低了业务边界内的复杂度。但微服务会使得复杂度从服务内转移到服务间的通讯过程上。很快地我们就会发现，对单体服务简单的调用关系分析、过程调试、测试会成为一件无比困难的事情。

但复杂度是可以被控制的。所谓控制，即隔离变化，让复杂的代码有一个简单、稳定的对外边界。复杂的脏代码如果不去动它，就是稳定的好代码。

常见控制复杂度的方案，归根结底只有两个，即: 分层 (Layering) 与解耦 (Decoupling)。
