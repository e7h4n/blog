<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="张宇辰 (pw)"><title>张宇辰的博客</title><meta name="description" content="A Blog Powered By Hexo"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 4.2.0"></head><body><div class="sidebar animated fadeInDown"><div class="image-info">2019 年夏 @ 内蒙响沙湾</div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a class="current" href="/">首页</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)" style="display:none;"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/06/22/0-second-reload-for-node-web-server/">平滑升级 Node Web 服务器</a></h1></div><div class="post-content"><p>用 Node 搭建一个 Web 服务是一件很轻松的事情，例如经典的 Hello World 例子，三行代码实现一个 Web 服务:
123require('http').createServer(function (req, res) &#123;    res.end('Hello World');&#125;...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-06-22</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/05/07/from-github-to-gitcafe/">使用 gitcafe 做 blog 服务</a></h1></div><div class="post-content"><p>由于众所周知的原因，github 在国内的访问速度又慢又不稳定，所以[用 github 来托管 blog] 并不是很适合中国国情。所幸国内有 gitcafe 这一优质的代码托管服务，可以替代 github 来托管 blog。
使用 gitcafe 非常简单，用过 github 的同学上手肯定毫无压力。创建完 gi...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-05-07</span><i class="fa fa-tag"></i><a class="tag" href="/tags/hexo/" title="hexo">hexo </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/24/router-in-express-4/">浅谈 Express 4.0 Router 模块</a></h1></div><div class="post-content"><p>Express 是目前 node 社区最主要的 Web 框架，前不久刚刚升级到了 4.0 版本。与 3.x 版本比，4.0 版本拥有一个全新设计的 Router 模块，开发者可以更方便的对 middleware 进行隔离与重用。
Express 3.x 时代的中间件 (middleware) 与控制器 (cont...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-24</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/24/upgrade-express-4/">Express 4.0 升级手记</a></h1></div><div class="post-content"><p>前几天著名的 Web 框架 [express] 更新到了 4.0 版，这个版本带来了一些比较大的更新，并且不再向下兼容 3.x 版。今天花了一点时间把项目升级到了 4.0 版，在此记录以下遇到的问题。
Express 4.0 不再内置 connect 中间件这是影响比较大的一个修改，原先的各种 connect 中...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-24</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/23/replace-nginx-by-node/">用 node 代替 nginx 做请求分发</a></h1></div><div class="post-content"><p>对于一个大型 Web 网站来说，网站往往是由多套代码来提供服务，并通过 nginx 等 HTTP Server 把请求分发到各个 Web 服务器上。例如:
1234567891011121314151617                      +–––––––––––––––––+             ...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-23</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/22/from-octopress-to-hexo/">把 blog 从 octopress 迁移到 hexo</a></h1></div><div class="post-content"><p>之前用的一直用 octopress 来写 blog。对于我来说 octopress 有个最大的缺点，就是它是 ruby 写的。导致我经常就要去搞搞 ruby 的版本啊、gem 啊什么杂七杂八的事情。今天无意间看到了一个 node 写的博客工具 hexo，功能类似于 octorepss 但是部署成本比 octopr...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-22</span><i class="fa fa-tag"></i><a class="tag" href="/tags/hexo/" title="hexo">hexo </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/21/a-simple-promise-cache-by-lru-cache/">异步、promise 与缓存</a></h1></div><div class="post-content"><p>异步操作缓存在 Node 开发过程中要常常和异步调用打交道，例如发送 http 请求、读取文件内容等。有时我们需要将这些异步 I/O 操作的结果缓存下来，使得程序运行的速度更快，例如:
12345678910111213141516171819var fileContent = null;function rea...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-21</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/02/26/docker-behind-gfw/">Mac 下使用代理连接 docker 镜像服务器</a></h1></div><div class="post-content"><p>Docker 是个非常牛逼的轻量级虚拟化解决方案，它可以将整个操作系统打成一个非常小的镜像，并且直接跑在宿主的 Linux Kernel 之上。然而在国内因为可恶的 GFW 存在，使用 docker 成了一件非常困难的事情。具体表现在使用 docker search 和 docker pull 的时候连接非常不稳...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-02-26</span><i class="fa fa-tag"></i><a class="tag" href="/tags/docker/" title="docker">docker </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/01/25/handle-exception-in-node/">Node 出现 uncaughtException 之后的优雅退出方案</a></h1></div><div class="post-content"><p>Node 的异步特性是它最大的魅力，但是在带来便利的同时也带来了不少麻烦和坑，错误捕获就是一个。由于 Node 的异步特性，导致我们无法使用 try/catch 来捕获回调函数中的异常，例如:
123456789101112try &#123;    console.log('进入 try/catch');   ...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-01-25</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2013/10/16/use-nodejs-as-web-frontend-server/">用 node.js 做 Web 前端服务器的一些经验</a></h1></div><div class="post-content"><p>前不久 NCZ 发表了新文章 Node.js and the new web front-end（译文），描述了用 node.js 做 Web 前端服务器的种种优势。NCZ 在文章中推荐了一套服务器模型(图片来源自Node.js and the new web front-end)。


这个模型在传统的后台服务...</p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2013-10-16</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/page/2/">下一页</a></li></ul></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>