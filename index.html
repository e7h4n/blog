<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="张宇辰 (pw)"><title>张宇辰的博客</title><meta name="description" content="10 年程序员"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 4.2.0"></head><body><div class="sidebar animated fadeInDown"><div class="image-info">2019 年夏 @ 内蒙响沙湾</div><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;border-radius:127px"><h3 title="" style="margin-top: 0.5em"><a href="/">张宇辰的博客</a></h3><div class="description"><p>10 年程序员</p></div></div></div><ul class="social-links"></ul></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a class="current" href="/">首页</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)" style="display:none;"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/06/22/0-second-reload-for-node-web-server/">平滑升级 Node Web 服务器</a></h1></div><div class="post-content"><p><p>用 Node 搭建一个 Web 服务是一件很轻松的事情，例如经典的 Hello World 例子，三行代码实现一个 Web 服务:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">'http'</span>).createServer(<span class="function"><span class="keyword">function...</span></span></span></pre></td></tr></table></figure></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-06-22</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/05/07/from-github-to-gitcafe/">使用 gitcafe 做 blog 服务</a></h1></div><div class="post-content"><p><p>由于众所周知的原因，<a href="http://github.com" target="_blank" rel="noopener">github</a> 在国内的访问速度又慢又不稳定，所以[用 github 来托管 blog] 并不是很适合中国国情。所幸国内有 <a href="http://gitcafe.com" target="_blank" rel="noopener">gitcafe</a> 这一优质的代码托管服务，可以替代 github...</p></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-05-07</span><i class="fa fa-tag"></i><a class="tag" href="/tags/hexo/" title="hexo">hexo </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/24/router-in-express-4/">浅谈 Express 4.0 Router 模块</a></h1></div><div class="post-content"><p><p>Express 是目前 node 社区最主要的 Web 框架，前不久刚刚升级到了 4.0 版本。与 3.x 版本比，4.0 版本拥有一个全新设计的 Router 模块，开发者可以更方便的对 middleware...</p></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-24</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/24/upgrade-express-4/">Express 4.0 升级手记</a></h1></div><div class="post-content"><p><p>前几天著名的 Web 框架 [express] 更新到了 4.0 版，这个版本带来了一些比较大的更新，并且不再向下兼容 3.x 版。今天花了一点时间把项目升级到了 4.0 版，在此记录以下遇到的问题。...</p></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-24</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/23/replace-nginx-by-node/">用 node 代替 nginx 做请求分发</a></h1></div><div class="post-content"><p><p>对于一个大型 Web 网站来说，网站往往是由多套代码来提供服务，并通过 nginx 等 HTTP Server 把请求分发到各个 Web 服务器上。例如:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16...</span></pre></td></tr></table></figure></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-23</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/22/from-octopress-to-hexo/">把 blog 从 octopress 迁移到 hexo</a></h1></div><div class="post-content"><p><p>之前用的一直用 <a href="http://octopress.org" target="_blank" rel="noopener">octopress</a> 来写 blog。对于我来说 octopress 有个最大的缺点，就是它是 ruby 写的。导致我经常就要去搞搞 ruby 的版本啊、gem 啊什么杂七杂八的事情。今...</p></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-22</span><i class="fa fa-tag"></i><a class="tag" href="/tags/hexo/" title="hexo">hexo </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/04/21/a-simple-promise-cache-by-lru-cache/">异步、promise 与缓存</a></h1></div><div class="post-content"><p><h2 id="异步操作缓存"><a href="#异步操作缓存" class="headerlink" title="异步操作缓存"></a>异步操作缓存</h2><p>在 Node 开发过程中要常常和异步调用打交道，例如发送 http 请求、读取文件内容等。有时我们需要将这些异步 I/O 操作的结果缓存下来，使得程序运行的速度更快，例如:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7...</span></pre></td></tr></table></figure></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-04-21</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/02/26/docker-behind-gfw/">Mac 下使用代理连接 docker 镜像服务器</a></h1></div><div class="post-content"><p><p>Docker 是个非常牛逼的轻量级虚拟化解决方案，它可以将整个操作系统打成一个非常小的镜像，并且直接跑在宿主的 Linux Kernel 之上。然而在国内因为可恶的 GFW 存在，使用 docker ...</p></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-02-26</span><i class="fa fa-tag"></i><a class="tag" href="/tags/docker/" title="docker">docker </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2014/01/25/handle-exception-in-node/">Node 出现 uncaughtException 之后的优雅退出方案</a></h1></div><div class="post-content"><p><p>Node 的异步特性是它最大的魅力，但是在带来便利的同时也带来了不少麻烦和坑，错误捕获就是一个。由于 Node 的异步特性，导致我们无法使用 try/catch 来捕获回调函数中的异常，例如:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3...</span></pre></td></tr></table></figure></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2014-01-25</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="post animated fadeInDown"><div class="post-title"><h1><a href="/2013/10/16/use-nodejs-as-web-frontend-server/">用 node.js 做 Web 前端服务器的一些经验</a></h1></div><div class="post-content"><p><p>前不久 NCZ 发表了新文章 <a href="http://www.nczonline.net/blog/2013/10/07/node-js-and-the-new-web-front-end/" target="_blank" rel="noopener">Node.js and the new web front-end</a>（<a href="http://www.silverna.org/blog/?p=297" target="_blank" rel="noopener">译文</a>），描述了用 node.js 做 Web 前端服务器的种种优势。NCZ 在文章中推荐了一套服务器模...</p></p></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2013-10-16</span><i class="fa fa-tag"></i><a class="tag" href="/tags/node/" title="node">node </a></div></div></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/page/2/">下一页</a></li></ul></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>